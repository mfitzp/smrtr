{% extends "base.html" %}

{% block breadcrumbs %} 
    {{ block.super }}
    &raquo; Challenge    
    &raquo; <a href="{% url challenge-detail challenge_id=challenge.id %}">{% if userchallenge %}{{userchallenge}}{% else %}{{challenge}}{% endif %}</a>
    &raquo; Questions Answered
{% endblock %}

{% block title %}{% if userchallenge %}{{userchallenge}}{% else %}{{challenge}}{% endif %}{% endblock %}

{% block content_title %}{% include "_challenge_header.html" %}{% endblock %}


{% block content_left %}

    {% if challenge %}
        <p>You answered <strong>{{totals.correct}} out of {{totals.answered}}</strong> ( {{totals.percent}}% ) questions correctly.</p>
        {% if questions %}
            {% for question in questions %}
            <div class="focus focus-bigtop-light"><h4>A</h4><div class="focus-body-low">
            <div class="question-number">{{ forloop.counter }}</div>
            <div class="question">
                {{ question.content }}
            </div>
                <ul class="answers">
                {% for answer in question.answer_set.all %}
                    {% ifequal question.answered answer.id %}
                       <li class="question_answer question_answered {% if answer.is_correct %}correct{% else %}incorrect{% endif %}">{{ answer.content }}</li>
                    {% else %}

                        {% if answer.is_correct %}
                           <li class="question_answer correct">{{ answer.content }}</li>
                        {% endif %}

                    {% endifequal %}
                {% endfor %}
                </ul>
            </div></div>
            {% endfor %}
        {% else %}
            <p>No questions available.</p>
        {% endif %}

    {% else %}
        <p>Challenge does not exist.</p>
    {% endif %}

{% endblock %}

{% block content_right %}

    {% include "_wall.html" %}

{% endblock %} 
